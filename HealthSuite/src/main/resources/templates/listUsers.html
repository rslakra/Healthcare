<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments :: head('List Users - HealthSuite')}"></head>
<body>
    <div th:replace="~{fragments :: navbar}"></div>
    <div th:replace="~{fragments :: sidebar('users')}"></div>

    <!-- Main Content Area -->
    <div class="main-content">
        <div class="content-card">
            <div class="page-header">
                <h1>üë• Users <span class="item-count" th:text="'(' + ${users != null ? users.size() : 0} + ')'">(0)</span></h1>
                <a th:href="@{/add-users}" class="btn-submit btn-add">‚ûï Add User</a>
            </div>
            
            <div th:if="${users == null || users.isEmpty()}" style="padding: 40px; text-align: center; color: #666;">
                <p style="font-size: 18px; margin-bottom: 20px;">No users found.</p>
                <a th:href="@{/add-users}" class="btn-submit" style="text-decoration: none; display: inline-block;">Add Your First User</a>
            </div>
            
            <div th:if="${users != null && !users.isEmpty()}">
                <table class="table table-striped table-bordered" style="width: 100%; margin-top: 20px;">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Username</th>
                            <th>Email</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Enabled</th>
                            <th>Created At</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="user : ${users}">
                            <td th:text="${user.id}">ID</td>
                            <td th:text="${user.username}">Username</td>
                            <td th:text="${user.email}">Email</td>
                            <td th:text="${user.firstName != null ? user.firstName : '-'}">First Name</td>
                            <td th:text="${user.lastName != null ? user.lastName : '-'}">Last Name</td>
                            <td>
                                <span th:if="${user.enabled}" style="color: green;">‚úì Active</span>
                                <span th:unless="${user.enabled}" style="color: red;">‚úó Inactive</span>
                            </td>
                            <td th:text="${user.createdAt != null ? #temporals.format(user.createdAt, 'yyyy-MM-dd HH:mm') : '-'}">Created At</td>
                            <td>
                                <a th:href="@{/users/{id}/edit(id=${user.id})}" 
                                   class="btn-submit" 
                                   style="padding: 6px 12px; font-size: 14px; text-decoration: none; display: inline-block;">‚úèÔ∏è Edit</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div th:replace="~{fragments :: scripts}"></div>
</body>
</html>

