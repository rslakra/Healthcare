<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="utf-8">
    <title>HealthSuite - Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet">
    <link th:href="@{/css/bootstrap-responsive.css}" rel="stylesheet">
    <!-- Custom CSS -->
    <link th:href="@{/css/navbar-styles.css}" rel="stylesheet">
    <link th:href="@{/css/styles.css}" rel="stylesheet">
    <!-- Favicon -->
    <link rel="shortcut icon" th:href="@{/favicon.ico}">
    <!-- HTML5 shim for IE6-8 -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
    <!-- Top Navigation Bar -->
    <div class="navbar navbar-fixed-top navbar-inverse">
        <div class="navbar-inner">
            <div class="container">
                <a class="brand navbar-brand" th:href="@{/}">HealthSuite</a>
                <ul class="nav pull-right">
                    <li th:if="${authenticated}">
                        <a href="#">
                            <span th:text="'Welcome, ' + ${username}"></span>
                        </a>
                    </li>
                    <li th:if="${authenticated}">
                        <a th:href="@{/logout}">Logout</a>
                    </li>
                    <li th:unless="${authenticated}">
                        <a th:href="@{/login}">Login</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Sidebar Menu -->
    <div class="sidebar">
        <ul class="nav">
            <li class="nav-header">Public Pages</li>
            <li><a th:href="@{/}" class="active">ğŸ  Home</a></li>
            <li><a th:href="@{/about}">â„¹ï¸ About</a></li>
            <li><a th:href="@{/contact}">ğŸ“§ Contact Us</a></li>
            
            <li class="nav-header" th:if="${authenticated}">Main Menu</li>
            <li th:if="${authenticated}"><a th:href="@{/exercises}">ğŸ“Š Exercise Log</a></li>
            <li th:if="${authenticated}"><a th:href="@{/add-exercise}">â• Add Exercise</a></li>
            <li th:if="${authenticated}"><a th:href="@{/add-goal}">ğŸ¯ Set Goal</a></li>
            <li th:if="${authenticated}"><a th:href="@{/add-minutes}">â±ï¸ Log Minutes</a></li>
            
            <li class="nav-header" th:if="${authenticated}">User Management</li>
            <li th:if="${authenticated}"><a th:href="@{/add-users}">ğŸ‘¤ Add User</a></li>
            <li th:if="${authenticated}"><a th:href="@{/add-registration}">ğŸ“ Registration</a></li>
            
            <li class="nav-header" th:if="${authenticated}">System</li>
            <li th:if="${authenticated}"><a th:href="@{/h2}" target="_blank">ğŸ—„ï¸ Database Console</a></li>
        </ul>
        
        <div class="user-info" th:if="${authenticated}">
            <div><strong>User:</strong> <span th:text="${username}"></span></div>
        </div>
        <div class="user-info" th:unless="${authenticated}">
            <div style="text-align: center; padding: 10px;">
                <a th:href="@{/login}">ğŸ” Login</a>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
        <!-- Welcome Card -->
        <div class="welcome-card">
            <h1>Welcome to HealthSuite!</h1>
            <p th:if="${authenticated}">
                Hello, <span th:text="${username}"></span>! Track your health and fitness journey with ease.
            </p>
            <p th:unless="${authenticated}">
                Your comprehensive healthcare management system for tracking exercises, goals, and wellness.
                <br><a th:href="@{/login}" style="color: white; text-decoration: underline; font-weight: bold;">Login</a> to access all features.
            </p>
        </div>

        <!-- Statistics Cards -->
        <div class="row">
            <div class="span4">
                <div class="stats-card">
                    <h3>ğŸ“ˆ Exercise Tracking</h3>
                    <p>Monitor your daily exercise activities and track your progress over time.</p>
                </div>
            </div>
            <div class="span4">
                <div class="stats-card">
                    <h3>ğŸ¯ Goal Setting</h3>
                    <p>Set and achieve your fitness goals with personalized targets and milestones.</p>
                </div>
            </div>
            <div class="span4">
                <div class="stats-card">
                    <h3>ğŸ‘¥ User Management</h3>
                    <p>Manage healthcare team members, roles, and access permissions efficiently.</p>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions" th:if="${authenticated}">
            <a th:href="@{/add-exercise}" class="action-card">
                <div class="icon">â•</div>
                <h4>Add Exercise</h4>
                <p>Log your exercise activities and track your fitness progress</p>
            </a>
            
            <a th:href="@{/exercises}" class="action-card">
                <div class="icon">ğŸ“Š</div>
                <h4>View Exercises</h4>
                <p>Review your exercise history and analyze your activity patterns</p>
            </a>
            
            <a th:href="@{/add-goal}" class="action-card">
                <div class="icon">ğŸ¯</div>
                <h4>Set Goals</h4>
                <p>Define your fitness objectives and track your achievements</p>
            </a>
            
            <a th:href="@{/add-minutes}" class="action-card">
                <div class="icon">â±ï¸</div>
                <h4>Log Minutes</h4>
                <p>Record exercise duration and monitor your daily activity time</p>
            </a>
            
            <a th:href="@{/add-users}" class="action-card">
                <div class="icon">ğŸ‘¤</div>
                <h4>Manage Users</h4>
                <p>Add and manage healthcare team members and their profiles</p>
            </a>
            
            <a th:href="@{/add-registration}" class="action-card">
                <div class="icon">ğŸ“</div>
                <h4>Registration</h4>
                <p>Register new users and manage healthcare team access</p>
            </a>
        </div>
        
        <!-- Public Quick Actions -->
        <div class="quick-actions" th:unless="${authenticated}">
            <a th:href="@{/login}" class="action-card">
                <div class="icon">ğŸ”</div>
                <h4>Login</h4>
                <p>Access your account to manage exercises, goals, and more</p>
            </a>
            
            <a th:href="@{/about}" class="action-card">
                <div class="icon">â„¹ï¸</div>
                <h4>About Us</h4>
                <p>Learn more about HealthSuite and our mission</p>
            </a>
            
            <a th:href="@{/contact}" class="action-card">
                <div class="icon">ğŸ“§</div>
                <h4>Contact Us</h4>
                <p>Get in touch with our support team</p>
            </a>
        </div>

        <!-- Features Section -->
        <div class="row" style="margin-top: 40px;">
            <div class="span12">
                <div class="stats-card">
                    <h3>ğŸŒŸ Key Features</h3>
                    <ul style="list-style: none; padding: 0; margin: 20px 0 0 0;">
                        <li style="padding: 10px 0; border-bottom: 1px solid #ecf0f1;">
                            <strong>Exercise Management:</strong> Track various activities including running, biking, swimming, and more
                        </li>
                        <li style="padding: 10px 0; border-bottom: 1px solid #ecf0f1;">
                            <strong>Goal Setting:</strong> Set personalized exercise goals and monitor your progress
                        </li>
                        <li style="padding: 10px 0; border-bottom: 1px solid #ecf0f1;">
                            <strong>User Management:</strong> Comprehensive user and role management for healthcare teams
                        </li>
                        <li style="padding: 10px 0;">
                            <strong>Secure Access:</strong> Role-based access control with Spring Security integration
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts - jQuery must load before Bootstrap -->
    <script type="text/javascript" th:src="@{/jquery-1.8.3.js}"></script>
    <script type="text/javascript" th:src="@{/js/bootstrap.js}"></script>
    <script type="text/javascript">
        // Highlight active menu item - ensure jQuery is loaded
        if (typeof jQuery !== 'undefined') {
            jQuery(document).ready(function($) {
                var currentPath = window.location.pathname;
                $('.sidebar .nav li a').each(function() {
                    var linkPath = $(this).attr('href');
                    if (linkPath && currentPath.includes(linkPath.replace('/HealthSuite', ''))) {
                        $(this).addClass('active');
                    }
                });
            });
        }
    </script>
</body>
</html>
